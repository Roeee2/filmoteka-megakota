function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},d=t.parcelRequired7c6;null==d&&((d=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var d={id:e,exports:{}};return o[e]=d,t.call(d.exports,d,d.exports),d.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=d),d.register;var i=d("1GAPJ"),r=d("7EEHk"),l=d("2ix2C");document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("filmModal"),o=document.querySelector("ul.gallery-cards"),n={},d=()=>{t&&(t.classList.remove("is-hidden"),document.body.style.overflow="hidden",document.querySelector(".backdrop").addEventListener("click",u),document.addEventListener("keydown",c))},a=()=>{t&&(t.classList.add("is-hidden"),document.body.style.overflow="",document.querySelector(".backdrop").removeEventListener("click",u),document.removeEventListener("keydown",c))},c=e=>{"Escape"===e.key&&a()},u=e=>{document.querySelector(".modal").contains(e.target)||a()},s=document.querySelector(".modal-close-button");s&&(s.onclick=a),o.addEventListener("click",async e=>{if("IMG"===e.target.tagName){let t=e.target.id.split("-")[1],o=await (0,r.getFilmData)(t);o&&(n=o,m(o),d())}});let m=e=>{document.getElementById("cover-image").src=`https://image.tmdb.org/t/p/original${e.poster_path}`,document.getElementById("movie-title").innerText=e.original_title,document.getElementById("film-votes").innerText=e.vote_average.toFixed(1),document.getElementById("film-votes-secondary").innerText=e.vote_count,document.getElementById("film-popularity").innerText=Math.round(e.popularity),document.getElementById("film-original-title").innerText=e.original_title,document.getElementById("film-genre").innerText=e.genres.map(e=>e.name).join(", "),document.getElementById("film-description").innerHTML=`<h3>ABOUT</h3><p>${e.overview}</p>`},g=document.querySelector(".modal-buttons button:nth-child(1)"),f=document.querySelector(".modal-buttons button:nth-child(2)");g&&(g.onclick=()=>{if(localStorage.setItem(`watched.${n.id}`,JSON.stringify(n)),(0,r.isUserEmailStored)()){let e=localStorage.getItem("userEmail");l.addWatchedToUser(e,n).then(e=>{console.log(`Added to watched in firestroe: ${e}`)})}a(),e(i).Notify.info('Has been added to "Watched"')}),f&&(f.onclick=()=>{if(localStorage.setItem(`queue.${n.id}`,JSON.stringify(n)),(0,r.isUserEmailStored)()){let e=localStorage.getItem("userEmail");l.addQueueToUser(e,n).then(e=>{console.log(`Added to queue in firestroe: ${e}`)})}a(),e(i).Notify.info('Has been added to "Queue"')})});
//# sourceMappingURL=index.f6f9ba56.js.map
